ğŸ“ Changelog: v0.07
âœ… Focus: CPU Performance, Stability, Logging

âš™ï¸ Core Improvements
ğŸ§  Lazy EasyOCR Initialization: easyocr.Reader is now only created after game launch is detected, improving startup time and reducing CPU strain.

ğŸ–¤ Grayscale Capture: Screen capture is now converted to grayscale before OCR to reduce processing time.

â±ï¸ Accurate Interval Timing: CAPTURE_INTERVAL is now enforced by subtracting processing time for consistent capture pacing.

ğŸ§¼ Numpy Removed: Eliminated np.array conversion for images to keep memory overhead minimal.

ğŸ› ï¸ Stability & Crash Prevention
ğŸš« Reader Safety Check: If easyocr.Reader isnâ€™t initialized, get_location_text() will safely return "Unknown" without crashing.

ğŸ›‘ No-OCR Short-Circuit: Script now cleanly exits location parsing if OCR returns no results (NO_OCR_RESULTS).

ğŸ“ Logging & Debugging
âœ‚ï¸ Trim Debug Logs: unmatched_locations.log is now trimmed to the last 100 entries to avoid bloat.

ğŸ§¹ Stripped Empty Lines: Empty/whitespace lines are now excluded from log retention.

âš ï¸ Noise Detection Logs: Main menu noise entries now log as "INVALID_LOCATION_ID" to help with debugging.
---

# Changelog

All notable changes to this project will be documented in this file.

##[ 0.06] â€“ 2025-06-16
### Added

Main script version check via drp_version.txt hosted on GitHub

Notification for users when a newer version is available

### Changed

Renamed script to starcitizen_drp.py

Cleaned version display: removed redundant â€œLocation Versionâ€ label

### Fixed

False positives when comparing script version numbers (now uses proper version parsing)

---

## [0.05] â€“ 2025-06-15
### Added
- âŒ **Removed â€œLZâ€ fallback** entirely â€“ now only scans for the â€œCurrent player locationâ€ block.
- ğŸ—‚ï¸ **AppData storage** for all alias, version, and debug files under `%APPDATA%\StarCitizenPresence\`.
- ğŸ”„ **GitHub auto-update** simplified: only pulls `location_aliases.txt` & `loc_version.txt` from the `Locations/` folder.
- ğŸ§µ **Waiting loop** now clears RPC on game exit and shows animated dots until SC launches.
- ğŸ” **OCR logic** and fuzzy-matching refactored for speed and clarity.

### Changed
- âœ¨ Bumped internal script version to **0.05** and display on startup.
- ğŸ“ˆ Fuzzy matching cutoff tuned to 0.7, showing top 3 candidates.
- ğŸš€ Startup now shows local vs remote alias version once.

### Fixed
- ğŸ› Double-print of â€œalias file up to dateâ€ removed.
- ğŸ“„ Main-menu noise handling consolidated into a single list.

---

## [0.04] â€“ 2025-06-15

### Added
- ğŸ•¹ï¸ **Process detection** via `psutil` to pause/resume Rich Presence when `starcitizen.exe` starts or stops  
- Â·Â·Â· **Waiting animation** (â€œ.â€ dots) while Star Citizen isnâ€™t running  
- ğŸ›‘ **Clear Rich Presence** exactly once when the game closes  
- ğŸ“‚ Store all alias/version files under `%APPDATA%/StarCitizenPresence/Locations`  
- ğŸ—„ï¸ Store logs and debug screenshots under `%APPDATA%/StarCitizenPresence/Debugging`

### Changed
- ğŸ—ƒï¸ Moved `location_aliases.txt` and `loc_version.txt` into AppData folders instead of local directory  
- ğŸ§¹ Cleared the â€œWaiting for Star Citizenâ€¦â€ console line once the game launches  
- ğŸ“ Streamlined console output to remove redundant update/version messages  

### Fixed
- âœ… Ensure the waiting-dot line fully clears on detection of Star Citizen  
- ğŸ”„ Prevent repeated â€œStar Citizen detected!â€ messages on each loop iteration  
